club_type_grade = NA_dat_student),
attributes_clubs[, club_var_names])
attributes_students_clubs <- cbind(shared, student_specific, club_specific)
not_missing <- attributes_students_clubs$missing96 == 0
attributes_nomiss <- attributes_students_clubs[not_missing, ]
is_student <- attributes_students_clubs$type == "student"
not_missing_student <- not_missing[is_student]
is_club <- attributes_students_clubs$type == "club"
not_missing_club <- not_missing[is_club]
# row index : student Id, column : name of the clubs
affiliations96_nomiss <- affiliations96[not_missing_student, not_missing_club]
affiliations96_nomiss
affil_net96 <- graph_from_biadjacency_matrix(incidence = affiliations96_nomiss, mode = "all")
affil_net96
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "race",
value = attributes_nomiss$race)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "gender",
value = attributes_nomiss$gender)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_type_detailed",
value = attributes_nomiss$club_type_detailed)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_profile",
value = attributes_nomiss$club_profile)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "grade96",
value = attributes_nomiss$grade96)
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$color[type96 == FALSE] <- rgb(red = 1, green = 0,
blue = 0, alpha = .5)
V(affil_net96)$color[type96 == TRUE] <- rgb(red = 0, green = 1,
blue = 0, alpha = .5)
#V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
#V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
#V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
#V(affil_net96)$size <- 6 # set size of nodes to 6
#V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
#E(affil_net96)$color <- rgb(.5, .5, 0, .2)
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
is_student_type <- type96_noisolates == FALSE
V(affil_net96_noisolates)$label[is_student_type] <- NA
V(affil_net96_noisolates)$color[is_student_type] <- rgb(1, 0, 0, .1)
V(affil_net96_noisolates)$size[is_student_type] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
is_student_type <- type96_noisolates == FALSE
V(affil_net96_noisolates)$label[is_student_type] <- NA
V(affil_net96_noisolates)$color[is_student_type] <- rgb(1, 0, 0, .1)
V(affil_net96_noisolates)$size[is_student_type] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
library(igraph)
url1 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/affiliations_1996.txt"
affiliations96 <- read.delim(file = url1, check.names = FALSE)
# organized with students on the rows and clubs on the column
# Coded "1" for membership, "0" for no membership
affiliations96[1:6, 1:6]
url2 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/attributes_students.txt"
attributes_students <- read.delim(file = url2, stringsAsFactors = FALSE)
attributes_students[1:5, ]
url3 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/attributes_clubs.txt"
attributes_clubs <- read.delim(file = url3, stringsAsFactors = FALSE)
attributes_clubs[1:5, ]
shared_var_names <- c("ids", "type", "missing96", "missing97")
shared <- rbind(attributes_students[, shared_var_names],
attributes_clubs[, shared_var_names])
num_clubs <- nrow(attributes_clubs)
NA_dat_club <- rep(NA, num_clubs)
student_var_names <- c("race", "gender", "grade96", "grade97")
student_specific <- rbind(attributes_students[, student_var_names],
data.frame(race = NA_dat_club,
gender = NA_dat_club,
grade96 = NA_dat_club,
grade97 = NA_dat_club))
num_students <- nrow(attributes_students)
NA_dat_student <- rep(NA, num_students)
club_var_names<- c("club_type_detailed", "club_profile",
"club_feeder", "club_type_gender",
"club_type_grade")
club_specific <- rbind(data.frame(club_type_detailed = NA_dat_student,
club_profile = NA_dat_student,
club_feeder = NA_dat_student,
club_type_gender = NA_dat_student,
club_type_grade = NA_dat_student),
attributes_clubs[, club_var_names])
attributes_students_clubs <- cbind(shared, student_specific, club_specific)
not_missing <- attributes_students_clubs$missing96 == 0
attributes_nomiss <- attributes_students_clubs[not_missing, ]
is_student <- attributes_students_clubs$type == "student"
not_missing_student <- not_missing[is_student]
is_club <- attributes_students_clubs$type == "club"
not_missing_club <- not_missing[is_club]
# row index : student Id, column : name of the clubs
affiliations96_nomiss <- affiliations96[not_missing_student, not_missing_club]
affiliations96_nomiss
affil_net96 <- graph_from_biadjacency_matrix(incidence = affiliations96_nomiss, mode = "all")
affil_net96
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "race",
value = attributes_nomiss$race)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "gender",
value = attributes_nomiss$gender)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_type_detailed",
value = attributes_nomiss$club_type_detailed)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_profile",
value = attributes_nomiss$club_profile)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "grade96",
value = attributes_nomiss$grade96)
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5). # set the color of the labels
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
library(igraph)
url1 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/affiliations_1996.txt"
affiliations96 <- read.delim(file = url1, check.names = FALSE)
# organized with students on the rows and clubs on the column
# Coded "1" for membership, "0" for no membership
affiliations96[1:6, 1:6]
url2 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/attributes_students.txt"
attributes_students <- read.delim(file = url2, stringsAsFactors = FALSE)
attributes_students[1:5, ]
url3 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/attributes_clubs.txt"
attributes_clubs <- read.delim(file = url3, stringsAsFactors = FALSE)
attributes_clubs[1:5, ]
shared_var_names <- c("ids", "type", "missing96", "missing97")
shared <- rbind(attributes_students[, shared_var_names],
attributes_clubs[, shared_var_names])
num_clubs <- nrow(attributes_clubs)
NA_dat_club <- rep(NA, num_clubs)
student_var_names <- c("race", "gender", "grade96", "grade97")
student_specific <- rbind(attributes_students[, student_var_names],
data.frame(race = NA_dat_club,
gender = NA_dat_club,
grade96 = NA_dat_club,
grade97 = NA_dat_club))
num_students <- nrow(attributes_students)
NA_dat_student <- rep(NA, num_students)
club_var_names<- c("club_type_detailed", "club_profile",
"club_feeder", "club_type_gender",
"club_type_grade")
club_specific <- rbind(data.frame(club_type_detailed = NA_dat_student,
club_profile = NA_dat_student,
club_feeder = NA_dat_student,
club_type_gender = NA_dat_student,
club_type_grade = NA_dat_student),
attributes_clubs[, club_var_names])
attributes_students_clubs <- cbind(shared, student_specific, club_specific)
not_missing <- attributes_students_clubs$missing96 == 0
attributes_nomiss <- attributes_students_clubs[not_missing, ]
is_student <- attributes_students_clubs$type == "student"
not_missing_student <- not_missing[is_student]
is_club <- attributes_students_clubs$type == "club"
not_missing_club <- not_missing[is_club]
# row index : student Id, column : name of the clubs
affiliations96_nomiss <- affiliations96[not_missing_student, not_missing_club]
affiliations96_nomiss
affil_net96 <- graph_from_biadjacency_matrix(incidence = affiliations96_nomiss, mode = "all")
affil_net96
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "race",
value = attributes_nomiss$race)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "gender",
value = attributes_nomiss$gender)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_type_detailed",
value = attributes_nomiss$club_type_detailed)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_profile",
value = attributes_nomiss$club_profile)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "grade96",
value = attributes_nomiss$grade96)
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$color[type96 == FALSE] <- rgb(red = 1, green = 0,
blue = 0, alpha = .5)
V(affil_net96)$color[type96 == TRUE] <- rgb(red = 0, green = 1,
blue = 0, alpha = .5)
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5). # set the color of the labels
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$color[type96 == FALSE] <- rgb(red = 1, green = 0,
blue = 0, alpha = .5)
V(affil_net96)$color[type96 == TRUE] <- rgb(red = 0, green = 1,
blue = 0, alpha = .5)
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5). # set the color of the labels
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$color[type96 == FALSE] <- rgb(red = 1, green = 0,
blue = 0, alpha = .5)
V(affil_net96)$color[type96 == TRUE] <- rgb(red = 0, green = 1,
blue = 0, alpha = .5)
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
is_student_type <- type96_noisolates == FALSE
V(affil_net96_noisolates)$label[is_student_type] <- NA
V(affil_net96_noisolates)$color[is_student_type] <- rgb(1, 0, 0, .1)
V(affil_net96_noisolates)$size[is_student_type] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
library(car)
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
is_student_type <- type96_noisolates == FALSE
V(affil_net96_noisolates)$label[is_student_type] <- NA
V(affil_net96_noisolates)$size[is_student_type] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student_type]
student_node_color <- recode(race,
"'white' = 'red';
'Hispanic' = 'grey';
'Asian' = 'blue';
'black' = 'yellow';
'Native American' = 'black'")
V(affil_net96_noisolates)$color[is_student_type] <- student_node_color
V(affil_net96_noisolates)$frame.color[is_student_type] <- student_node_color
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
library(igraph)
url1 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/affiliations_1996.txt"
affiliations96 <- read.delim(file = url1, check.names = FALSE)
# organized with students on the rows and clubs on the column
# Coded "1" for membership, "0" for no membership
affiliations96[1:6, 1:6]
url2 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/attributes_students.txt"
attributes_students <- read.delim(file = url2, stringsAsFactors = FALSE)
attributes_students[1:5, ]
url3 <- "https://github.com/JeffreyAlanSmith/Integrated_Network_Science/raw/master/data/attributes_clubs.txt"
attributes_clubs <- read.delim(file = url3, stringsAsFactors = FALSE)
attributes_clubs[1:5, ]
shared_var_names <- c("ids", "type", "missing96", "missing97")
shared <- rbind(attributes_students[, shared_var_names],
attributes_clubs[, shared_var_names])
num_clubs <- nrow(attributes_clubs)
NA_dat_club <- rep(NA, num_clubs)
student_var_names <- c("race", "gender", "grade96", "grade97")
student_specific <- rbind(attributes_students[, student_var_names],
data.frame(race = NA_dat_club,
gender = NA_dat_club,
grade96 = NA_dat_club,
grade97 = NA_dat_club))
num_students <- nrow(attributes_students)
NA_dat_student <- rep(NA, num_students)
club_var_names<- c("club_type_detailed", "club_profile",
"club_feeder", "club_type_gender",
"club_type_grade")
club_specific <- rbind(data.frame(club_type_detailed = NA_dat_student,
club_profile = NA_dat_student,
club_feeder = NA_dat_student,
club_type_gender = NA_dat_student,
club_type_grade = NA_dat_student),
attributes_clubs[, club_var_names])
attributes_students_clubs <- cbind(shared, student_specific, club_specific)
not_missing <- attributes_students_clubs$missing96 == 0
attributes_nomiss <- attributes_students_clubs[not_missing, ]
is_student <- attributes_students_clubs$type == "student"
not_missing_student <- not_missing[is_student]
is_club <- attributes_students_clubs$type == "club"
not_missing_club <- not_missing[is_club]
# row index : student Id, column : name of the clubs
affiliations96_nomiss <- affiliations96[not_missing_student, not_missing_club]
affiliations96_nomiss
affil_net96 <- graph_from_biadjacency_matrix(incidence = affiliations96_nomiss, mode = "all")
affil_net96
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "race",
value = attributes_nomiss$race)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "gender",
value = attributes_nomiss$gender)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_type_detailed",
value = attributes_nomiss$club_type_detailed)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "club_profile",
value = attributes_nomiss$club_profile)
affil_net96 <- set_vertex_attr(graph = affil_net96, name = "grade96",
value = attributes_nomiss$grade96)
type96 <- vertex_attr(affil_net96, "type")
V(affil_net96)$color[type96 == FALSE] <- rgb(red = 1, green = 0,
blue = 0, alpha = .5)
V(affil_net96)$color[type96 == TRUE] <- rgb(red = 0, green = 1,
blue = 0, alpha = .5)
V(affil_net96)$label <- V(affil_net96)$name # setting label of nodes
V(affil_net96)$label.color <- rgb(0, 0, .2, .5) # set the color of the labels
V(affil_net96)$label.cex <- .5 # make the labels of the nodes smaller
V(affil_net96)$size <- 6 # set size of nodes to 6
V(affil_net96)$frame.color <- V(affil_net96)$color # set color around nodes
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
library(car)
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
is_student_type <- type96_noisolates == FALSE
V(affil_net96_noisolates)$label[is_student_type] <- NA
V(affil_net96_noisolates)$size[is_student_type] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student_type]
student_node_color <- recode(race,
"'white' = 'red';
'Hispanic' = 'grey';
'Asian' = 'blue';
'black' = 'yellow';
'Native American' = 'black'")
V(affil_net96_noisolates)$color[is_student_type] <- student_node_color
V(affil_net96_noisolates)$frame.color[is_student_type] <- student_node_color
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
is_student_type <- type96_noisolates == FALSE
V(affil_net96_noisolates)$size[is_student_type] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student_type]
student_node_color <- recode(race,
"'white' = 'red';
'Hispanic' = 'grey';
'Asian' = 'blue';
'black' = 'yellow';
'Native American' = 'black'")
V(affil_net96_noisolates)$color[is_student_type] <- student_node_color
V(affil_net96_noisolates)$frame.color[is_student_type] <- student_node_color
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
type96 <- vertex_attr(affil_net96, "type")
# set colors
V(affil_net96)$color <- ifelse(type96,
rgb(0, 1, 0, .5),  # TRUE → green
rgb(1, 0, 0, .5))  # FALSE → red
V(affil_net96)$frame.color <- V(affil_net96)$color
V(affil_net96)$label <- V(affil_net96)$name
V(affil_net96)$label.color <- rgb(0, 0, .2, .5)
V(affil_net96)$label.cex <- .5
V(affil_net96)$size <- 6
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
# delete the isolated nods
affil_net96_noisolates <- delete_vertices(affil_net96, which(degree(affil_net96) == 0))
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
# set size of student nodes
is_student <- !type96_noisolates
V(affil_net96_noisolates)$size[is_student] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student]
V(affil_net96_noisolates)$color[is_student] <-
recode(race, "'white'='red'; 'Hispanic'='grey'; 'Asian'='blue'; 'black'='yellow'; 'Native American'='black'")
V(affil_net96_noisolates)$frame.color[is_student] <- V(affil_net96_noisolates)$color[is_student]
type96 <- vertex_attr(affil_net96, "type")
# set colors
V(affil_net96)$color <- ifelse(type96,
rgb(0, 1, 0, .5),  # TRUE → green
rgb(1, 0, 0, .5))  # FALSE → red
V(affil_net96)$frame.color <- V(affil_net96)$color
V(affil_net96)$label <- V(affil_net96)$name
V(affil_net96)$label.color <- rgb(0, 0, .2, .5)
V(affil_net96)$label.cex <- .5
V(affil_net96)$size <- 6
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
# delete the isolated nods
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
# set size of student nodes
is_student <- !type96_noisolates
V(affil_net96_noisolates)$size[is_student] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student]
V(affil_net96_noisolates)$color[is_student] <-
recode(race, "'white'='red'; 'Hispanic'='grey'; 'Asian'='blue'; 'black'='yellow'; 'Native American'='black'")
V(affil_net96_noisolates)$frame.color[is_student] <- V(affil_net96_noisolates)$color[is_student]
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
type96 <- vertex_attr(affil_net96, "type")
# set colors
V(affil_net96)$color <- ifelse(type96,
rgb(0, 1, 0, .5),  # TRUE → green
rgb(1, 0, 0, .5))  # FALSE → red
V(affil_net96)$frame.color <- V(affil_net96)$color
#V(affil_net96)$label <- V(affil_net96)$name
V(affil_net96)$label.color <- rgb(0, 0, .2, .5)
V(affil_net96)$label.cex <- .5
V(affil_net96)$size <- 6
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
# delete the isolated nods
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
# set size of student nodes
is_student <- !type96_noisolates
V(affil_net96_noisolates)$size[is_student] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student]
V(affil_net96_noisolates)$color[is_student] <-
recode(race, "'white'='red'; 'Hispanic'='grey'; 'Asian'='blue'; 'black'='yellow'; 'Native American'='black'")
V(affil_net96_noisolates)$frame.color[is_student] <- V(affil_net96_noisolates)$color[is_student]
type96 <- vertex_attr(affil_net96, "type")
# set colors
V(affil_net96)$color <- ifelse(type96,
rgb(0, 1, 0, .5),  # TRUE → green
rgb(1, 0, 0, .5))  # FALSE → red
V(affil_net96)$frame.color <- V(affil_net96)$color
V(affil_net96)$label <-NA
V(affil_net96)$label.color <- rgb(0, 0, .2, .5)
V(affil_net96)$label.cex <- .5
V(affil_net96)$size <- 6
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
# delete the isolated nods
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
# set size of student nodes
is_student <- !type96_noisolates
V(affil_net96_noisolates)$size[is_student] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student]
V(affil_net96_noisolates)$color[is_student] <-
recode(race, "'white'='red'; 'Hispanic'='grey'; 'Asian'='blue'; 'black'='yellow'; 'Native American'='black'")
V(affil_net96_noisolates)$frame.color[is_student] <- V(affil_net96_noisolates)$color[is_student]
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
legend("topleft",
legend = c("White", "Hispanic", "Asian", "Black", "Native American", "Non-student"),
col = c("red", "grey", "blue", "yellow", "black", "green"),
pch = 19,          # 점 모양
pt.cex = 1.5,      # 점 크기
bty = "n",         # 테두리 제거
title = "Node type")
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
legend("bottomright",
legend = c("White", "Hispanic", "Asian", "Black", "Native American", "Non-student"),
col = c("red", "grey", "blue", "yellow", "black", "green"),
pch = 19,          # 점 모양
pt.cex = 1,      # 점 크기
bty = "n",         # 테두리 제거
title = "Node type")
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
legend("bottomright",
legend = c("White", "Hispanic", "Asian", "Black", "Native American", "clubs"),
col = c("red", "grey", "blue", "yellow", "black", "green"),
pch = 19,          # 점 모양
pt.cex = 1,      # 점 크기
bty = "n",         # 테두리 제거
title = "Node type")
layout <- layout_with_fr(affil_net96_noisolates, grid = "nogrid")
plot(affil_net96_noisolates, layout = layout)
legend("bottomright",
legend = c("White", "Hispanic", "Asian", "Black", "Native American", "clubs"),
col = c("red", "grey", "blue", "yellow", "black", "green"),
pch = 19,          # 점 모양
pt.cex = 1,      # 점 크기
cex = 0.7,          # 글자 크기 줄이기
bty = "n",         # 테두리 제거
title = "Node type")
# Affiliations, fields, and cultural spaces
type96 <- vertex_attr(affil_net96, "type")
# set colors
V(affil_net96)$color <- ifelse(type96,
rgb(0, 1, 0, .5),  # TRUE → green
rgb(1, 0, 0, .5))  # FALSE → red
V(affil_net96)$frame.color <- V(affil_net96)$color
V(affil_net96)$label <-NA
V(affil_net96)$label.color <- rgb(0, 0, .2, .5)
V(affil_net96)$label.cex <- .5
V(affil_net96)$size <- 6
E(affil_net96)$color <- rgb(.5, .5, 0, .2)
# delete the isolated nods
degree0 <- which(degree(affil_net96) == 0)
affil_net96_noisolates <- delete_vertices(affil_net96, degree0)
type96_noisolates <- vertex_attr(affil_net96_noisolates, "type")
# set size of student nodes
is_student <- !type96_noisolates
V(affil_net96_noisolates)$size[is_student] <- 2
E(affil_net96_noisolates)$color <- rgb(.5, .5, 0, .05)
race <- V(affil_net96_noisolates)$race[is_student]
V(affil_net96_noisolates)$color[is_student] <-
recode(race, "'white'='red'; 'Hispanic'='grey'; 'Asian'='blue'; 'black'='yellow'; 'Native American'='black'")
V(affil_net96_noisolates)$frame.color[is_student] <- V(affil_net96_noisolates)$color[is_student]
